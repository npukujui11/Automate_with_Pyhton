### question
* 一张圆桌边上坐着5名哲学家，每两名哲学家之间的桌上摆一个筷子，两根筷子中间是一碗米饭。
* 哲学家们倾注毕生精力用于思考和进餐，哲学家在思考时，并不影响他人；
* 只有当哲学家饥饿时，才试图拿起左、右两根筷子（一根一根地拿起）；
* 若筷子已在他人手上，则需要等待；
* 饥饿地哲学家只有同时拿到两根筷子才可以开始进餐，进餐完毕后，放下筷子继续思考
### analysis
* 哲学家进餐问题
* 哲学家和左右哲学家之间对筷子的访问是互斥（exclusion）关系；
* 五个进程的推进顺序容易出现死锁的情况，因此要设定合理的推进顺序；
1. 至多允许n-1名哲学家同时进餐；
2. 当哲学家左右的筷子都可用时，才允许拿起筷子；
3. 对哲学家顺序编号，要求奇数号哲学家先拿左边的筷子，然后拿右边的筷子，而偶数号哲学家刚好相反；
### semaphore
```
semaphore chopstick[5] = {1, 1, 1, 1, 1};  //定义信号量向量组
semaphore mutex = 1;                       //取筷子的信号量
```
### philosophers process
```
Pi(){
    while(1){
        P(mutex);                          //防止其他哲学家抢筷子
        P(chopstick[i]);                   //取左边的筷子
        P(chopstick[i+1]);                 //取右边的筷子
        V(mutex);                          //允许其他哲学家拿筷子
        eat;                               //进餐
        V(chopstick[i+1]);                 //放回右边的筷子
        V(chopstcik[i]);                   //放回左边的筷子
        think;                             //思考
    }
```